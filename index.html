<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emotune - 감성 음악 웹앱</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: #f5f5f5;
            overflow-x: hidden;
            padding-bottom: 80px;
        }

        /* 상단바 스타일 */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
        }

        .app-title {
            color: #EE7C4C;
            font-size: 24px;
            font-weight: bold;
            animation: titleGlow 2s ease-in-out infinite;
        }

        @keyframes titleGlow {
            0%, 100% { text-shadow: 0 0 5px rgba(238, 124, 76, 0.5); }
            50% { text-shadow: 0 0 20px rgba(238, 124, 76, 0.8); }
        }

        .search-icon {
            width: 24px;
            height: 24px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .search-icon:hover {
            transform: scale(1.2);
        }

        /* 하단 네비게이션 바 */
        .nav-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-around;
            align-items: center;
            height: 80px;
            z-index: 1000;
        }

        .nav-item {
            flex: 1;
            text-align: center;
            padding: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }

        .nav-item:hover {
            background-color: #f5f5f5;
        }

        .nav-item.active {
            color: #EE7C4C;
        }

        .nav-item.active .nav-icon {
            fill: #EE7C4C;
            animation: navBounce 0.5s ease;
        }

        @keyframes navBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .nav-icon {
            width: 24px;
            height: 24px;
            fill: #666;
            transition: all 0.3s ease;
        }

        /* 페이지 컨테이너 */
        .page {
            display: none;
            padding-top: 60px;
            min-height: 100vh;
            animation: fadeIn 0.5s ease;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* 홈 페이지 스타일 */
        .home-content {
            padding: 20px;
        }

        .emotional-text {
            font-size: 28px;
            color: #333;
            margin: 30px 0;
            line-height: 1.5;
            text-align: left;
            animation: textFloat 3s ease-in-out infinite;
        }

        @keyframes textFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        /* 음반 스타일 */
        .vinyl-container {
            width: 280px;
            height: 280px;
            margin: 40px auto;
            position: relative;
            animation: vinylPulse 2s ease-in-out infinite;
        }

        @keyframes vinylPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        .vinyl-record {
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 30% 30%, #333 0%, #000 100%);
            border-radius: 50%;
            position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            animation: vinylRotate 4s linear infinite;
        }

        @keyframes vinylRotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .vinyl-grooves {
            position: absolute;
            width: 90%;
            height: 90%;
            top: 5%;
            left: 5%;
            border-radius: 50%;
            background: repeating-radial-gradient(
                circle at center,
                transparent 0,
                transparent 2px,
                rgba(255,255,255,0.1) 2px,
                rgba(255,255,255,0.1) 4px
            );
            animation: grooveShine 3s ease-in-out infinite;
        }

        @keyframes grooveShine {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.6; }
        }

        .vinyl-label {
            position: absolute;
            width: 40%;
            height: 40%;
            top: 30%;
            left: 30%;
            background: #EE7C4C;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.3);
        }

        .vinyl-label::after {
            content: '';
            width: 20px;
            height: 20px;
            background: #333;
            border-radius: 50%;
        }

        .vinyl-reflection {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(255,255,255,0.3) 0%, transparent 60%);
            animation: reflectionMove 4s ease-in-out infinite;
        }

        @keyframes reflectionMove {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(180deg); }
        }

        /* 섹션 제목 */
        .section-title {
            font-size: 20px;
            font-weight: bold;
            color: #333;
            margin: 30px 0 15px;
            animation: titleSlide 0.5s ease;
        }

        @keyframes titleSlide {
            from { transform: translateX(-20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* 태그 스타일 */
        .tag-container {
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding: 10px 0;
            -webkit-overflow-scrolling: touch;
        }

        .tag-container::-webkit-scrollbar {
            height: 4px;
        }

        .tag-container::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        .tag-container::-webkit-scrollbar-thumb {
            background: #EE7C4C;
            border-radius: 2px;
        }

        .tag {
            padding: 8px 16px;
            background: white;
            border: 2px solid #EE7C4C;
            border-radius: 20px;
            color: #EE7C4C;
            white-space: nowrap;
            cursor: pointer;
            transition: all 0.3s ease;
            animation: tagAppear 0.5s ease;
        }

        @keyframes tagAppear {
            from { transform: scale(0); }
            to { transform: scale(1); }
        }

        .tag:hover {
            background: #EE7C4C;
            color: white;
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(238, 124, 76, 0.3);
        }

        .tag.active {
            background: #EE7C4C;
            color: white;
        }

        /* 카드 스타일 */
        .card-container {
            display: flex;
            gap: 15px;
            overflow-x: auto;
            padding: 10px 0;
            -webkit-overflow-scrolling: touch;
        }

        .card {
            min-width: 150px;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            animation: cardSlide 0.5s ease;
        }

        @keyframes cardSlide {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .card-image {
            width: 100%;
            height: 120px;
            object-fit: cover;
        }

        .card-content {
            padding: 10px;
        }

        .card-mood {
            font-size: 14px;
            color: #333;
            font-weight: 500;
            margin-bottom: 5px;
        }

        .card-tags {
            font-size: 12px;
            color: #666;
        }

        /* 버튼 스타일 */
        .more-button {
            display: block;
            width: 80%;
            max-width: 300px;
            margin: 20px auto;
            padding: 15px;
            background: #EE7C4C;
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            animation: buttonPulse 2s ease-in-out infinite;
        }

        @keyframes buttonPulse {
            0%, 100% { box-shadow: 0 5px 15px rgba(238, 124, 76, 0.3); }
            50% { box-shadow: 0 5px 25px rgba(238, 124, 76, 0.5); }
        }

        .more-button:hover {
            transform: scale(1.05);
            background: #d66a3c;
        }

        /* 인기 문장 음반 */
        .small-vinyl-container {
            width: 200px;
            height: 200px;
            margin: 20px auto;
            position: relative;
        }

        .small-vinyl {
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 30% 30%, #444 0%, #111 100%);
            border-radius: 50%;
            position: relative;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            animation: vinylRotate 6s linear infinite;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .vinyl-text {
            position: absolute;
            color: white;
            font-size: 14px;
            text-align: center;
            padding: 20px;
            font-style: italic;
            animation: textGlow 2s ease-in-out infinite;
        }

        @keyframes textGlow {
            0%, 100% { text-shadow: 0 0 10px rgba(255,255,255,0.5); }
            50% { text-shadow: 0 0 20px rgba(255,255,255,0.8); }
        }

        /* 문장 카드 */
        .quote-card {
            min-width: 200px;
            height: 250px;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .quote-card:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .quote-image {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }

        .quote-text {
            padding: 15px;
            font-size: 14px;
            color: #333;
            font-style: italic;
            text-align: center;
        }

        /* 보관함 페이지 스타일 */
        .tab-container {
            display: flex;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 60px;
            z-index: 100;
        }

        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
            font-weight: 500;
            border-bottom: 3px solid transparent;
        }

        .tab.active {
            color: #EE7C4C;
            border-bottom-color: #EE7C4C;
            background: rgba(238, 124, 76, 0.05);
        }

        .tab:hover {
            background: rgba(238, 124, 76, 0.1);
        }

        .archive-content {
            padding: 20px;
        }

        .archive-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .count-text {
            font-size: 16px;
            color: #666;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .sort-select {
            padding: 8px 15px;
            border: 2px solid #EE7C4C;
            border-radius: 20px;
            background: white;
            color: #EE7C4C;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .sort-select:hover {
            background: #EE7C4C;
            color: white;
        }

        .sentence-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .sentence-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            position: relative;
            animation: sentenceSlide 0.5s ease;
        }

        @keyframes sentenceSlide {
            from { transform: translateX(-20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .sentence-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .sentence-text {
            font-size: 16px;
            color: #333;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .sentence-date {
            font-size: 12px;
            color: #999;
        }

        .delete-button {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 30px;
            height: 30px;
            background: #ff6b6b;
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            font-size: 18px;
        }

        .delete-button:hover {
            background: #ff5252;
            transform: scale(1.1);
        }

        .add-button {
            position: fixed;
            bottom: 100px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: #EE7C4C;
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 30px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(238, 124, 76, 0.3);
            transition: all 0.3s ease;
            z-index: 999;
            animation: addButtonFloat 2s ease-in-out infinite;
        }

        @keyframes addButtonFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .add-button:hover {
            transform: scale(1.1);
            box-shadow: 0 10px 25px rgba(238, 124, 76, 0.5);
        }

        /* 폴더 스타일 */
        .folder-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .folder-card {
            background: linear-gradient(135deg, #EE7C4C 0%, #f59e7a 100%);
            border-radius: 15px;
            padding: 20px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            animation: folderAppear 0.5s ease;
        }

        @keyframes folderAppear {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .folder-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(238, 124, 76, 0.3);
        }

        .folder-icon {
            font-size: 40px;
            margin-bottom: 10px;
        }

        .folder-name {
            font-size: 16px;
            font-weight: 500;
        }

        .folder-count {
            font-size: 12px;
            opacity: 0.8;
        }

        /* 검색 페이지 스타일 */
        .search-content {
            padding: 20px;
        }

        .search-title {
            font-size: 32px;
            color: #333;
            margin-bottom: 20px;
            text-align: center;
            animation: searchTitlePulse 2s ease-in-out infinite;
        }

        @keyframes searchTitlePulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        .search-bar {
            width: 100%;
            padding: 15px 20px;
            padding-right: 80px;
            border: 2px solid #EE7C4C;
            border-radius: 25px;
            font-size: 16px;
            outline: none;
            transition: all 0.3s ease;
            margin-bottom: 20px;
        }

        .search-bar:focus {
            box-shadow: 0 0 0 3px rgba(238, 124, 76, 0.2);
        }

        .search-input-container {
            position: relative;
        }

        .search-button {
            position: absolute;
            right: 5px;
            top: 5px;
            padding: 10px 20px;
            background: #EE7C4C;
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .search-button:hover {
            background: #d66a3c;
        }

        .situation-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .situation-card {
            height: 150px;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            animation: situationCardAppear 0.5s ease;
        }

        @keyframes situationCardAppear {
            from { transform: scale(0.9); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .situation-card:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        }

        .situation-background {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .situation-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .situation-card:hover .situation-overlay {
            background: rgba(238, 124, 76, 0.6);
        }

        /* 마이페이지 스타일 */
        .my-content {
            padding: 20px;
            background: white;
            min-height: 100vh;
        }

        .my-title {
            font-size: 28px;
            color: #EE7C4C;
            text-align: center;
            margin-bottom: 30px;
            animation: myTitleGlow 2s ease-in-out infinite;
        }

        @keyframes myTitleGlow {
            0%, 100% { text-shadow: 0 0 10px rgba(238, 124, 76, 0.3); }
            50% { text-shadow: 0 0 20px rgba(238, 124, 76, 0.5); }
        }

        .profile-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
            animation: profileCardSlide 0.5s ease;
        }

        @keyframes profileCardSlide {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .profile-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 100px;
            background: linear-gradient(135deg, #EE7C4C 0%, #f59e7a 100%);
            z-index: 0;
        }

        .profile-image {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            margin-bottom: 15px;
            position: relative;
            z-index: 1;
            animation: profileImagePulse 3s ease-in-out infinite;
        }

        @keyframes profileImagePulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .profile-name {
            font-size: 24px;
            color: #333;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }

        .profile-stats {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 24px;
            color: #EE7C4C;
            font-weight: bold;
        }

        .stat-label {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }

        .profile-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .profile-button {
            flex: 1;
            padding: 10px;
            border: 2px solid #EE7C4C;
            background: white;
            color: #EE7C4C;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .profile-button:hover {
            background: #EE7C4C;
            color: white;
            transform: scale(1.05);
        }

        .menu-section {
            margin-top: 30px;
        }

        .menu-title {
            font-size: 16px;
            color: #666;
            margin-bottom: 10px;
            padding-left: 5px;
        }

        .menu-list {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .menu-item {
            padding: 20px;
            border-bottom: 1px solid #f5f5f5;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .menu-item:last-child {
            border-bottom: none;
        }

        .menu-item:hover {
            background: #f5f5f5;
            padding-left: 25px;
        }

        .menu-arrow {
            color: #999;
            transition: all 0.3s ease;
        }

        .menu-item:hover .menu-arrow {
            transform: translateX(5px);
            color: #EE7C4C;
        }

        /* 모달 스타일 */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            animation: modalFadeIn 0.3s ease;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 90%;
            width: 400px;
            max-height: 80vh;
            overflow-y: auto;
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 20px;
            color: #333;
            font-weight: bold;
        }

        .modal-close {
            width: 30px;
            height: 30px;
            border: none;
            background: #f5f5f5;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            font-size: 20px;
            color: #666;
        }

        .modal-close:hover {
            background: #EE7C4C;
            color: white;
            transform: rotate(90deg);
        }

        .modal-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #eee;
            border-radius: 10px;
            font-size: 16px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }

        .modal-input:focus {
            border-color: #EE7C4C;
            outline: none;
        }

        .modal-textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #eee;
            border-radius: 10px;
            font-size: 16px;
            margin-bottom: 15px;
            resize: vertical;
            min-height: 100px;
            transition: all 0.3s ease;
        }

        .modal-textarea:focus {
            border-color: #EE7C4C;
            outline: none;
        }

        .modal-submit {
            width: 100%;
            padding: 15px;
            background: #EE7C4C;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .modal-submit:hover {
            background: #d66a3c;
            transform: scale(1.02);
        }

        .music-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
        }

        .music-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: #f5f5f5;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            animation: musicItemSlide 0.3s ease;
        }

        @keyframes musicItemSlide {
            from { transform: translateX(-20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .music-item:hover {
            background: #EE7C4C;
            color: white;
            transform: translateX(5px);
        }

        .music-item-image {
            width: 60px;
            height: 60px;
            border-radius: 10px;
            object-fit: cover;
        }

        .music-item-info {
            flex: 1;
        }

        .music-item-title {
            font-weight: 500;
            margin-bottom: 5px;
        }

        .music-item-artist {
            font-size: 14px;
            opacity: 0.8;
        }

        .sentence-select-list {
            max-height: 300px;
            overflow-y: auto;
            margin: 15px 0;
        }

        .sentence-select-item {
            padding: 10px;
            margin: 5px 0;
            background: #f5f5f5;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .sentence-select-item:hover {
            background: #e0e0e0;
        }

        .sentence-select-item.selected {
            background: #EE7C4C;
            color: white;
        }

        .sentence-checkbox {
            width: 20px;
            height: 20px;
            accent-color: #EE7C4C;
        }

        .folder-sentences {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 15px;
        }

        .folder-sentence-item {
            padding: 15px;
            background: linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%);
            border-radius: 10px;
            font-style: italic;
            position: relative;
            overflow: hidden;
            animation: folderSentenceAppear 0.3s ease;
        }

        @keyframes folderSentenceAppear {
            from { transform: scale(0.9); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .folder-sentence-item::before {
            content: '"';
            position: absolute;
            top: -10px;
            left: 10px;
            font-size: 40px;
            color: #EE7C4C;
            opacity: 0.3;
        }

        /* 로딩 애니메이션 */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #EE7C4C;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* 반응형 디자인 */
        @media (max-width: 375px) {
            .card-container {
                gap: 10px;
            }
            
            .card {
                min-width: 130px;
            }
            
            .vinyl-container {
                width: 240px;
                height: 240px;
            }
        }
    </style>
</head>
<body>
    <!-- 헤더 -->
    <div class="header">
        <div class="app-title">Emotune</div>
        <svg class="search-icon" onclick="showPage('search')" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
        </svg>
    </div>

    <!-- 홈 페이지 -->
    <div id="home-page" class="page active">
        <div class="home-content">
            <div class="emotional-text">오늘의 순간을<br>기록해보세요.</div>
            
            <div class="vinyl-container">
                <div class="vinyl-record">
                    <div class="vinyl-grooves"></div>
                    <div class="vinyl-label"></div>
                    <div class="vinyl-reflection"></div>
                </div>
            </div>

            <div class="section-title">상황별 음악 추천</div>
            <div class="tag-container" id="music-tags">
                <div class="tag" onclick="filterMusic('신나는')">신나는</div>
                <div class="tag" onclick="filterMusic('산책할 때')">산책할 때</div>
                <div class="tag" onclick="filterMusic('드라이브')">드라이브</div>
                <div class="tag" onclick="filterMusic('공부할 때')">공부할 때</div>
                <div class="tag" onclick="filterMusic('잠들기 전')">잠들기 전</div>
                <div class="tag" onclick="filterMusic('운동할 때')">운동할 때</div>
                <div class="tag" onclick="filterMusic('카페에서')">카페에서</div>
                <div class="tag" onclick="filterMusic('비오는 날')">비오는 날</div>
            </div>

            <div class="card-container" id="music-cards">
                <!-- 음악 카드들이 동적으로 생성됩니다 -->
            </div>

            <button class="more-button" onclick="showPage('search')">음악 더보기</button>

            <div class="section-title">오늘의 인기 문장</div>
            <div id="popular-sentences">
                <!-- 인기 문장들이 동적으로 생성됩니다 -->
            </div>

            <div class="section-title">추천 태그로 보는 문장</div>
            <div class="tag-container" id="sentence-tags">
                <div class="tag" onclick="filterSentences('잠 잘때')">잠 잘때</div>
                <div class="tag" onclick="filterSentences('여유')">여유</div>
                <div class="tag" onclick="filterSentences('에세이')">에세이</div>
                <div class="tag" onclick="filterSentences('생각 정리 중')">생각 정리 중</div>
                <div class="tag" onclick="filterSentences('위로')">위로</div>
                <div class="tag" onclick="filterSentences('동기부여')">동기부여</div>
                <div class="tag" onclick="filterSentences('사랑')">사랑</div>
                <div class="tag" onclick="filterSentences('행복')">행복</div>
            </div>

            <div class="card-container" id="sentence-cards">
                <!-- 문장 카드들이 동적으로 생성됩니다 -->
            </div>
        </div>
    </div>

    <!-- 보관함 페이지 -->
    <div id="archive-page" class="page">
        <div class="tab-container">
            <div class="tab active" onclick="showArchiveTab('sentences')">문장</div>
            <div class="tab" onclick="showArchiveTab('folders')">폴더</div>
        </div>

        <div class="archive-content">
            <!-- 문장 탭 -->
            <div id="sentences-tab" class="tab-content">
                <div class="archive-header">
                    <div class="count-text">총 <span id="sentence-count">0</span>개의 문장</div>
                    <select class="sort-select" onchange="sortSentences(this.value)">
                        <option value="recent">최신순</option>
                        <option value="old">오래된순</option>
                    </select>
                </div>
                <div class="sentence-list" id="sentence-list">
                    <!-- 문장 목록이 동적으로 생성됩니다 -->
                </div>
            </div>

            <!-- 폴더 탭 -->
            <div id="folders-tab" class="tab-content" style="display: none;">
                <div class="archive-header">
                    <div class="count-text">총 <span id="folder-count">0</span>개의 폴더</div>
                    <select class="sort-select" onchange="sortFolders(this.value)">
                        <option value="recent">최신순</option>
                        <option value="old">오래된순</option>
                    </select>
                </div>
                <div class="folder-grid" id="folder-list">
                    <!-- 폴더 목록이 동적으로 생성됩니다 -->
                </div>
            </div>
        </div>

        <button class="add-button" id="add-button" onclick="showAddModal()">+</button>
    </div>

    <!-- 검색 페이지 -->
    <div id="search-page" class="page">
        <div class="search-content">
            <h1 class="search-title">검색</h1>
            
            <div class="search-input-container">
                <input type="text" class="search-bar" placeholder="음악, 태그, 문장을 검색해보세요" id="search-input">
                <button class="search-button" onclick="performSearch()">검색</button>
            </div>

            <div class="section-title">인기 태그</div>
            <div class="tag-container">
                <div class="tag" onclick="showTagModal('신나는')">신나는</div>
                <div class="tag" onclick="showTagModal('산책할 때')">산책할 때</div>
                <div class="tag" onclick="showTagModal('드라이브')">드라이브</div>
                <div class="tag" onclick="showTagModal('공부할 때')">공부할 때</div>
                <div class="tag" onclick="showTagModal('잠들기 전')">잠들기 전</div>
                <div class="tag" onclick="showTagModal('운동할 때')">운동할 때</div>
                <div class="tag" onclick="showTagModal('카페에서')">카페에서</div>
                <div class="tag" onclick="showTagModal('비오는 날')">비오는 날</div>
            </div>

            <div class="section-title">상황별 음악</div>
            <div class="situation-grid">
                <div class="situation-card" onclick="showSituationModal('산책할 때')">
                    <img src="https://picsum.photos/300/200?random=1" alt="산책" class="situation-background">
                    <div class="situation-overlay">산책할 때</div>
                </div>
                <div class="situation-card" onclick="showSituationModal('잠자기 전')">
                    <img src="https://picsum.photos/300/200?random=2" alt="잠자기 전" class="situation-background">
                    <div class="situation-overlay">잠자기 전</div>
                </div>
                <div class="situation-card" onclick="showSituationModal('작업할 때')">
                    <img src="https://picsum.photos/300/200?random=3" alt="작업" class="situation-background">
                    <div class="situation-overlay">작업할 때</div>
                </div>
                <div class="situation-card" onclick="showSituationModal('기분 전환')">
                    <img src="https://picsum.photos/300/200?random=4" alt="기분 전환" class="situation-background">
                    <div class="situation-overlay">기분 전환</div>
                </div>
                <div class="situation-card" onclick="showSituationModal('드라이브')">
                    <img src="https://picsum.photos/300/200?random=5" alt="드라이브" class="situation-background">
                    <div class="situation-overlay">드라이브</div>
                </div>
                <div class="situation-card" onclick="showSituationModal('비 오는 날')">
                    <img src="https://picsum.photos/300/200?random=6" alt="비 오는 날" class="situation-background">
                    <div class="situation-overlay">비 오는 날</div>
                </div>
            </div>
        </div>
    </div>

    <!-- 마이 페이지 -->
    <div id="my-page" class="page">
        <div class="my-content">
            <h1 class="my-title">마이페이지</h1>
            
            <div class="profile-card">
                <img src="https://picsum.photos/100/100?random=profile" alt="프로필" class="profile-image">
                <div class="profile-name">음악애호가</div>
                <div class="profile-stats">
                    <div class="stat-item">
                        <div class="stat-number">42</div>
                        <div class="stat-label">문장</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">8</div>
                        <div class="stat-label">폴더</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">156</div>
                        <div class="stat-label">저장한 음악</div>
                    </div>
                </div>
                <div class="profile-actions">
                    <button class="profile-button" onclick="alert('프로필 수정 기능은 준비 중입니다.')">프로필 수정</button>
                    <button class="profile-button" onclick="alert('설정 기능은 준비 중입니다.')">설정</button>
                </div>
            </div>

            <div class="menu-section">
                <div class="menu-title">리스트</div>
                <div class="menu-list">
                    <div class="menu-item" onclick="showPage('search')">
                        <span>음악 플레이리스트</span>
                        <span class="menu-arrow">›</span>
                    </div>
                    <div class="menu-item" onclick="showPage('archive')">
                        <span>작성한 문장</span>
                        <span class="menu-arrow">›</span>
                    </div>
                </div>
            </div>

            <div class="menu-section">
                <div class="menu-title">고객센터</div>
                <div class="menu-list">
                    <div class="menu-item" onclick="alert('공지사항 페이지는 준비 중입니다.')">
                        <span>공지사항</span>
                        <span class="menu-arrow">›</span>
                    </div>
                    <div class="menu-item" onclick="alert('FAQ 페이지는 준비 중입니다.')">
                        <span>FAQ</span>
                        <span class="menu-arrow">›</span>
                    </div>
                    <div class="menu-item" onclick="alert('문의하기 기능은 준비 중입니다.')">
                        <span>문의하기</span>
                        <span class="menu-arrow">›</span>
                    </div>
                    <div class="menu-item" onclick="alert('이용약관 페이지는 준비 중입니다.')">
                        <span>이용약관</span>
                        <span class="menu-arrow">›</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 하단 네비게이션 바 -->
    <div class="nav-bar">
        <div class="nav-item active" onclick="showPage('home')">
            <svg class="nav-icon" viewBox="0 0 24 24">
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                <polyline points="9 22 9 12 15 12 15 22"></polyline>
            </svg>
            <span>홈</span>
        </div>
        <div class="nav-item" onclick="showPage('archive')">
            <svg class="nav-icon" viewBox="0 0 24 24">
                <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
                <polyline points="17 21 17 13 7 13 7 21"></polyline>
                <polyline points="7 3 7 8 15 8"></polyline>
            </svg>
            <span>보관함</span>
        </div>
        <div class="nav-item" onclick="showPage('search')">
            <svg class="nav-icon" viewBox="0 0 24 24">
                <circle cx="11" cy="11" r="8"></circle>
                <path d="m21 21-4.35-4.35"></path>
            </svg>
            <span>검색</span>
        </div>
        <div class="nav-item" onclick="showPage('my')">
            <svg class="nav-icon" viewBox="0 0 24 24">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
            </svg>
            <span>마이</span>
        </div>
    </div>

    <!-- 모달 -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modal-title">제목</h2>
                <button class="modal-close" onclick="closeModal()">×</button>
            </div>
            <div id="modal-body">
                <!-- 모달 내용이 동적으로 생성됩니다 -->
            </div>
        </div>
    </div>

    <script>
        // 전역 변수
        let sentences = [];
        let folders = [];
        let currentTab = 'sentences';
        let selectedSentences = [];

        // 음악 데이터
        const musicData = {
            '신나는': [
                { title: '여름의 시작', mood: '활기찬 리듬', tags: '#여름 #드라이브' },
                { title: '청춘의 멜로디', mood: '에너지 넘치는', tags: '#청춘 #파티' },
                { title: '햇살 가득한 날', mood: '밝고 경쾌한', tags: '#행복 #즐거움' },
                { title: '리듬 속으로', mood: '신나는 비트', tags: '#댄스 #클럽' },
                { title: '자유의 날개', mood: '희망찬 멜로디', tags: '#자유 #모험' }
            ],
            '산책할 때': [
                { title: '고요한 오후', mood: '잔잔한 선율', tags: '#힐링 #자연' },
                { title: '바람의 속삭임', mood: '평화로운', tags: '#산책 #여유' },
                { title: '거리의 풍경', mood: '도시적 감성', tags: '#일상 #거리' },
                { title: '숲속 오솔길', mood: '자연의 소리', tags: '#숲 #명상' },
                { title: '해질녘 산책', mood: '노을빛 감성', tags: '#저녁 #감성' }
            ],
            '드라이브': [
                { title: '도로 위의 자유', mood: '시원한 질주', tags: '#자동차 #여행' },
                { title: '밤의 고속도로', mood: '도시의 불빛', tags: '#야경 #드라이브' },
                { title: '해안도로', mood: '바다의 향기', tags: '#바다 #여행' },
                { title: '새벽 출발', mood: '설렘 가득한', tags: '#새벽 #출발' },
                { title: '끝없는 지평선', mood: '광활한 대지', tags: '#모험 #자유' }
            ],
            '공부할 때': [
                { title: '집중의 시간', mood: '차분한 피아노', tags: '#공부 #집중' },
                { title: '도서관의 정적', mood: '고요한 분위기', tags: '#독서 #학습' },
                { title: '생각의 흐름', mood: '잔잔한 클래식', tags: '#사색 #명상' },
                { title: '지식의 샘', mood: '영감을 주는', tags: '#창의성 #아이디어' },
                { title: '밤샘 공부', mood: '깨어있는 밤', tags: '#시험 #노력' }
            ],
            '잠들기 전': [
                { title: '달빛 소나타', mood: '꿈결 같은', tags: '#수면 #꿈' },
                { title: '별이 빛나는 밤', mood: '포근한 멜로디', tags: '#밤 #휴식' },
                { title: '잠든 도시', mood: '고요한 밤', tags: '#도시 #정적' },
                { title: '꿈의 문턱', mood: '몽환적인', tags: '#꿈 #환상' },
                { title: '편안한 밤', mood: '따뜻한 위로', tags: '#위로 #평온' }
            ],
            '운동할 때': [
                { title: '파워 업', mood: '강렬한 비트', tags: '#운동 #에너지' },
                { title: '한계 돌파', mood: '동기부여', tags: '#도전 #극복' },
                { title: '러닝 하이', mood: '리드미컬한', tags: '#달리기 #유산소' },
                { title: '근육의 리듬', mood: '파워풀한', tags: '#웨이트 #힘' },
                { title: '승리의 순간', mood: '열정적인', tags: '#승리 #성취' }
            ],
            '카페에서': [
                { title: '커피 한 잔', mood: '재즈 감성', tags: '#카페 #여유' },
                { title: '오후의 티타임', mood: '부드러운 보사노바', tags: '#휴식 #대화' },
                { title: '창가의 자리', mood: '감성적인 어쿠스틱', tags: '#감성 #일상' },
                { title: '책과 음악', mood: '잔잔한 인디', tags: '#독서 #카페' },
                { title: '브런치 타임', mood: '경쾌한 재즈', tags: '#브런치 #주말' }
            ],
            '비오는 날': [
                { title: '빗소리 멜로디', mood: '촉촉한 감성', tags: '#비 #감성' },
                { title: '우산 속 둘', mood: '로맨틱한', tags: '#사랑 #비' },
                { title: '창문에 떨어지는 빗방울', mood: '센치한 발라드', tags: '#추억 #그리움' },
                { title: '비 갠 후', mood: '희망적인', tags: '#무지개 #새출발' },
                { title: '장마의 기억', mood: '애잔한 선율', tags: '#여름비 #추억' }
            ],
            '작업할 때': [
                { title: '창작의 시간', mood: '영감을 주는', tags: '#작업 #창작' },
                { title: '마감의 밤', mood: '집중력 향상', tags: '#마감 #집중' },
                { title: '아이디어 스케치', mood: '창의적인 리듬', tags: '#아이디어 #영감' },
                { title: '프로젝트 진행', mood: '생산적인 비트', tags: '#프로젝트 #업무' },
                { title: '완성의 기쁨', mood: '성취감 넘치는', tags: '#완성 #성취' }
            ],
            '기분 전환': [
                { title: '새로운 시작', mood: '활력 충전', tags: '#전환 #새출발' },
                { title: '기분 업!', mood: '긍정 에너지', tags: '#긍정 #활력' },
                { title: '스트레스 아웃', mood: '해방감 가득', tags: '#스트레스 #해방' },
                { title: '리프레시', mood: '상쾌한 멜로디', tags: '#리프레시 #재충전' },
                { title: '내일은 맑음', mood: '희망찬 선율', tags: '#희망 #내일' }
            ]
        };

        // 문장 데이터
        const sentenceData = {
            '잠 잘때': [
                "오늘 하루도 수고했어요. 편안한 밤 되세요.",
                "별들이 당신의 꿈을 지켜줄 거예요.",
                "내일은 더 나은 날이 될 거예요. 굿나잇.",
                "달빛이 당신을 포근히 감싸길.",
                "좋은 꿈만 꾸세요. 내일 또 만나요."
            ],
            '여유': [
                "때로는 멈춰서 숨 쉬는 것도 필요해요.",
                "천천히 가도 괜찮아요. 당신의 속도로.",
                "오늘은 나를 위한 시간을 가져보세요.",
                "커피 한 잔의 여유, 그것만으로도 충분해요.",
                "바쁜 일상 속 작은 쉼표 하나."
            ],
            '에세이': [
                "삶은 우리가 쓰는 하나의 이야기입니다.",
                "매일이 새로운 페이지의 시작이에요.",
                "당신의 이야기는 아직 끝나지 않았어요.",
                "오늘을 기록하면 내일의 추억이 됩니다.",
                "평범한 일상도 특별한 이야기가 될 수 있어요."
            ],
            '생각 정리 중': [
                "복잡한 생각들, 하나씩 풀어봐요.",
                "머릿속 정리가 필요할 때가 있죠.",
                "생각의 미로에서 길을 찾아가는 중.",
                "차분히 정리하면 답이 보일 거예요.",
                "때로는 생각을 비우는 것도 정리예요."
            ],
            '위로': [
                "괜찮아요. 당신은 충분히 잘하고 있어요.",
                "힘든 날도 있어요. 그래도 괜찮아요.",
                "당신의 아픔을 이해해요. 혼자가 아니에요.",
                "시간이 모든 것을 해결해줄 거예요.",
                "울어도 돼요. 그것도 치유의 과정이에요."
            ],
            '동기부여': [
                "오늘의 한 걸음이 내일의 큰 도약이 됩니다.",
                "포기하지 마세요. 당신은 할 수 있어요.",
                "실패는 성공의 어머니입니다.",
                "꿈을 향해 한 걸음 더 나아가세요.",
                "당신의 가능성은 무한합니다."
            ],
            '사랑': [
                "사랑은 주는 것이 아니라 함께하는 것.",
                "당신과 함께라면 어디든 좋아요.",
                "사랑한다는 말, 오늘도 전해보세요.",
                "서로의 빛이 되어주는 것, 그것이 사랑.",
                "매일 조금씩 더 사랑하게 되는 기적."
            ],
            '행복': [
                "행복은 가까운 곳에 있어요.",
                "작은 것에서 찾는 큰 행복.",
                "웃음이 가득한 하루 되세요.",
                "행복은 선택이에요. 오늘도 행복을 선택하세요.",
                "매일이 선물같은 날이 되길."
            ]
        };

        // 페이지 초기화
        document.addEventListener('DOMContentLoaded', function() {
            loadMusicCards();
            loadPopularSentences();
            loadSentenceCards();
            loadSentences();
            loadFolders();
        });

        // 페이지 전환 함수
        function showPage(pageName) {
            // 모든 페이지 숨기기
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // 모든 네비게이션 아이템 비활성화
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // 선택된 페이지 표시
            document.getElementById(pageName + '-page').classList.add('active');
            
            // 해당 네비게이션 아이템 활성화
            const navItems = document.querySelectorAll('.nav-item');
            const pageIndex = ['home', 'archive', 'search', 'my'].indexOf(pageName);
            if (pageIndex !== -1) {
                navItems[pageIndex].classList.add('active');
            }
        }

        // 음악 카드 로드
        function loadMusicCards() {
            const container = document.getElementById('music-cards');
            container.innerHTML = '';
            
            // 기본적으로 모든 음악 표시
            Object.values(musicData).flat().slice(0, 10).forEach((music, index) => {
                const card = createMusicCard(music, index);
                container.appendChild(card);
            });
        }

        // 음악 카드 생성
        function createMusicCard(music, index) {
            const card = document.createElement('div');
            card.className = 'card';
            card.style.animationDelay = `${index * 0.1}s`;
            
            card.innerHTML = `
                <img src="https://picsum.photos/150/120?random=${Math.random()}" alt="${music.title}" class="card-image">
                <div class="card-content">
                    <div class="card-mood">${music.mood}</div>
                    <div class="card-tags">${music.tags}</div>
                </div>
            `;
            
            card.onclick = () => showMusicDetail(music);
            return card;
        }

        // 음악 필터링
        function filterMusic(tag) {
            const container = document.getElementById('music-cards');
            container.innerHTML = '';
            
            // 태그 활성화 상태 변경
            document.querySelectorAll('#music-tags .tag').forEach(t => {
                t.classList.remove('active');
                if (t.textContent === tag) {
                    t.classList.add('active');
                }
            });
            
            // 해당 태그의 음악만 표시
            const musics = musicData[tag] || [];
            musics.forEach((music, index) => {
                const card = createMusicCard(music, index);
                container.appendChild(card);
            });
        }

        // 인기 문장 로드
        function loadPopularSentences() {
            const container = document.getElementById('popular-sentences');
            container.innerHTML = '';
            
            const popularSentences = [
                "오늘도 당신의 하루가 음악처럼 아름답길",
                "때로는 침묵도 가장 아름다운 멜로디가 됩니다",
                "인생은 즉흥연주, 실수도 음악의 일부",
                "당신의 심장박동이 만드는 리듬을 들어보세요",
                "매일이 새로운 플레이리스트의 시작입니다"
            ];
            
            popularSentences.forEach((sentence, index) => {
                const vinylContainer = document.createElement('div');
                vinylContainer.className = 'small-vinyl-container';
                vinylContainer.style.animationDelay = `${index * 0.2}s`;
                
                vinylContainer.innerHTML = `
                    <div class="small-vinyl">
                        <div class="vinyl-grooves"></div>
                        <div class="vinyl-text">${sentence}</div>
                    </div>
                `;
                
                container.appendChild(vinylContainer);
            });
        }

        // 문장 카드 로드
        function loadSentenceCards() {
            const container = document.getElementById('sentence-cards');
            container.innerHTML = '';
            
            // 기본적으로 모든 문장 표시
            Object.values(sentenceData).flat().slice(0, 10).forEach((sentence, index) => {
                const card = createSentenceCard(sentence, index);
                container.appendChild(card);
            });
        }

        // 문장 카드 생성
        function createSentenceCard(sentence, index) {
            const card = document.createElement('div');
            card.className = 'quote-card';
            card.style.animationDelay = `${index * 0.1}s`;
            
            card.innerHTML = `
                <img src="https://picsum.photos/200/150?random=${Math.random()}" alt="Quote" class="quote-image">
                <div class="quote-text">"${sentence}"</div>
            `;
            
            card.onclick = () => showSentenceDetail(sentence);
            return card;
        }

        // 문장 필터링
        function filterSentences(tag) {
            const container = document.getElementById('sentence-cards');
            container.innerHTML = '';
            
            // 태그 활성화 상태 변경
            document.querySelectorAll('#sentence-tags .tag').forEach(t => {
                t.classList.remove('active');
                if (t.textContent === tag) {
                    t.classList.add('active');
                }
            });
            
            // 해당 태그의 문장만 표시
            const sentences = sentenceData[tag] || [];
            sentences.forEach((sentence, index) => {
                const card = createSentenceCard(sentence, index);
                container.appendChild(card);
            });
        }

        // 보관함 탭 전환
        function showArchiveTab(tab) {
            currentTab = tab;
            
            // 탭 활성화 상태 변경
            document.querySelectorAll('.tab').forEach(t => {
                t.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // 탭 내용 전환
            if (tab === 'sentences') {
                document.getElementById('sentences-tab').style.display = 'block';
                document.getElementById('folders-tab').style.display = 'none';
            } else {
                document.getElementById('sentences-tab').style.display = 'none';
                document.getElementById('folders-tab').style.display = 'block';
            }
        }

        // 문장 목록 로드
        function loadSentences() {
            const list = document.getElementById('sentence-list');
            list.innerHTML = '';
            
            // 로컬 스토리지에서 문장 불러오기
            sentences = JSON.parse(localStorage.getItem('sentences') || '[]');
            
            // 문장 개수 업데이트
            document.getElementById('sentence-count').textContent = sentences.length;
            
            sentences.forEach((sentence, index) => {
                const card = document.createElement('div');
                card.className = 'sentence-card';
                card.style.animationDelay = `${index * 0.05}s`;
                
                card.innerHTML = `
                    <div class="sentence-text">${sentence.text}</div>
                    <div class="sentence-date">${sentence.date}</div>
                    <button class="delete-button" onclick="deleteSentence(${index})">×</button>
                `;
                
                list.appendChild(card);
            });
        }

        // 폴더 목록 로드
        function loadFolders() {
            const list = document.getElementById('folder-list');
            list.innerHTML = '';
            
            // 로컬 스토리지에서 폴더 불러오기
            folders = JSON.parse(localStorage.getItem('folders') || '[]');
            
            // 폴더 개수 업데이트
            document.getElementById('folder-count').textContent = folders.length;
            
            folders.forEach((folder, index) => {
                const card = document.createElement('div');
                card.className = 'folder-card';
                card.style.animationDelay = `${index * 0.05}s`;
                
                card.innerHTML = `
                    <div class="folder-icon">📁</div>
                    <div class="folder-name">${folder.name}</div>
                    <div class="folder-count">${folder.sentences.length}개의 문장</div>
                    <button class="delete-button" onclick="deleteFolder(${index})">×</button>
                `;
                
                card.onclick = (e) => {
                    if (!e.target.classList.contains('delete-button')) {
                        showFolderContent(folder);
                    }
                };
                
                list.appendChild(card);
            });
        }

        // 추가 모달 표시
        function showAddModal() {
            const modal = document.getElementById('modal');
            const modalTitle = document.getElementById('modal-title');
            const modalBody = document.getElementById('modal-body');
            
            if (currentTab === 'sentences') {
                modalTitle.textContent = '새 문장 추가';
                modalBody.innerHTML = `
                    <textarea class="modal-textarea" id="new-sentence" placeholder="오늘의 감성을 기록해보세요..."></textarea>
                    <button class="modal-submit" onclick="addSentence()">추가하기</button>
                `;
            } else {
                modalTitle.textContent = '새 폴더 추가';
                modalBody.innerHTML = `
                    <input type="text" class="modal-input" id="new-folder-name" placeholder="폴더 이름을 입력하세요">
                    <div class="menu-title">문장 선택</div>
                    <div class="sentence-select-list">
                        ${sentences.map((sentence, index) => `
                            <div class="sentence-select-item" onclick="toggleSentenceSelection(${index}, this)">
                                <input type="checkbox" class="sentence-checkbox" id="sentence-${index}">
                                <label for="sentence-${index}">${sentence.text}</label>
                            </div>
                        `).join('')}
                    </div>
                    <button class="modal-submit" onclick="addFolder()">추가하기</button>
                `;
                selectedSentences = [];
            }
            
            modal.classList.add('active');
        }

        // 문장 선택 토글
        function toggleSentenceSelection(index, element) {
            const checkbox = element.querySelector('.sentence-checkbox');
            checkbox.checked = !checkbox.checked;
            
            if (checkbox.checked) {
                selectedSentences.push(index);
                element.classList.add('selected');
            } else {
                selectedSentences = selectedSentences.filter(i => i !== index);
                element.classList.remove('selected');
            }
        }

        // 문장 추가
        function addSentence() {
            const textarea = document.getElementById('new-sentence');
            const text = textarea.value.trim();
            
            if (text) {
                const newSentence = {
                    text: text,
                    date: new Date().toLocaleDateString('ko-KR')
                };
                
                sentences.unshift(newSentence);
                localStorage.setItem('sentences', JSON.stringify(sentences));
                
                loadSentences();
                closeModal();
            }
        }

        // 폴더 추가
        function addFolder() {
            const nameInput = document.getElementById('new-folder-name');
            const name = nameInput.value.trim();
            
            if (name) {
                const newFolder = {
                    name: name,
                    sentences: selectedSentences.map(index => sentences[index]),
                    date: new Date().toLocaleDateString('ko-KR')
                };
                
                folders.unshift(newFolder);
                localStorage.setItem('folders', JSON.stringify(folders));
                
                loadFolders();
                closeModal();
            }
        }

        // 문장 삭제
        function deleteSentence(index) {
            if (confirm('이 문장을 삭제하시겠습니까?')) {
                sentences.splice(index, 1);
                localStorage.setItem('sentences', JSON.stringify(sentences));
                loadSentences();
            }
        }

        // 폴더 삭제
        function deleteFolder(index) {
            if (confirm('이 폴더를 삭제하시겠습니까?')) {
                folders.splice(index, 1);
                localStorage.setItem('folders', JSON.stringify(folders));
                loadFolders();
            }
        }

        // 폴더 내용 표시
        function showFolderContent(folder) {
            const modal = document.getElementById('modal');
            const modalTitle = document.getElementById('modal-title');
            const modalBody = document.getElementById('modal-body');
            
            modalTitle.textContent = folder.name;
            modalBody.innerHTML = `
                <div class="folder-sentences">
                    ${folder.sentences.map((sentence, index) => `
                        <div class="folder-sentence-item" style="animation-delay: ${index * 0.1}s">
                            ${sentence.text}
                        </div>
                    `).join('')}
                </div>
            `;
            
            modal.classList.add('active');
        }

        // 문장 정렬
        function sortSentences(order) {
            if (order === 'old') {
                sentences.reverse();
            } else {
                sentences = JSON.parse(localStorage.getItem('sentences') || '[]');
            }
            loadSentences();
        }

        // 폴더 정렬
        function sortFolders(order) {
            if (order === 'old') {
                folders.reverse();
            } else {
                folders = JSON.parse(localStorage.getItem('folders') || '[]');
            }
            loadFolders();
        }

        // 태그 모달 표시
        function showTagModal(tag) {
            const modal = document.getElementById('modal');
            const modalTitle = document.getElementById('modal-title');
            const modalBody = document.getElementById('modal-body');
            
            modalTitle.textContent = `${tag} 음악`;
            
            const musics = musicData[tag] || [];
            modalBody.innerHTML = `
                <div class="music-list">
                    ${musics.map((music, index) => `
                        <div class="music-item" style="animation-delay: ${index * 0.1}s">
                            <img src="https://picsum.photos/60/60?random=${Math.random()}" alt="${music.title}" class="music-item-image">
                            <div class="music-item-info">
                                <div class="music-item-title">${music.title}</div>
                                <div class="music-item-artist">${music.mood}</div>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
            
            modal.classList.add('active');
        }

        // 상황별 음악 모달 표시
        function showSituationModal(situation) {
            showTagModal(situation);
        }

        // 음악 상세 표시
        function showMusicDetail(music) {
            const modal = document.getElementById('modal');
            const modalTitle = document.getElementById('modal-title');
            const modalBody = document.getElementById('modal-body');
            
            modalTitle.textContent = music.title;
            modalBody.innerHTML = `
                <div style="text-align: center;">
                    <img src="https://picsum.photos/200/200?random=${Math.random()}" alt="${music.title}" style="border-radius: 15px; margin-bottom: 20px;">
                    <p style="font-size: 18px; color: #333; margin-bottom: 10px;">${music.mood}</p>
                    <p style="color: #666;">${music.tags}</p>
                </div>
            `;
            
            modal.classList.add('active');
        }

        // 문장 상세 표시
        function showSentenceDetail(sentence) {
            const modal = document.getElementById('modal');
            const modalTitle = document.getElementById('modal-title');
            const modalBody = document.getElementById('modal-body');
            
            modalTitle.textContent = '문장 상세';
            modalBody.innerHTML = `
                <div style="text-align: center; padding: 20px;">
                    <p style="font-size: 20px; font-style: italic; line-height: 1.8; color: #333;">"${sentence}"</p>
                </div>
            `;
            
            modal.classList.add('active');
        }

        // 검색 수행
        function performSearch() {
            const searchInput = document.getElementById('search-input');
            const query = searchInput.value.trim();
            
            if (query) {
                alert(`"${query}"에 대한 검색 결과를 표시합니다.`);
                // 실제 검색 기능 구현
            }
        }

        // 모달 닫기
        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        // 모달 외부 클릭 시 닫기
        document.getElementById('modal').onclick = function(e) {
            if (e.target.id === 'modal') {
                closeModal();
            }
        }

        // 엔터 키로 검색
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && document.activeElement.id === 'search-input') {
                performSearch();
            }
        });

        // 추가 애니메이션 효과
        setInterval(() => {
            document.querySelectorAll('.vinyl-record, .small-vinyl').forEach(vinyl => {
                vinyl.style.animationDuration = `${3 + Math.random() * 2}s`;
            });
        }, 5000);
    </script>
</body>
</html>